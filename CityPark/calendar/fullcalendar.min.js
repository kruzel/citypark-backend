/*
 * FullCalendar v1.4
 * http://arshaw.com/fullcalendar/
 *
 * Use fullcalendar.css for basic styling.
 * For event drag & drop, required jQuery UI draggable.
 * For event resizing, requires jQuery UI resizable.
 *
 * Copyright (c) 2009 Adam Shaw
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 */
(function(w){var C=w.fullCalendar={};var c=C.views={};var y={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},allDayDefault:true,startParam:"start",endParam:"end",cacheParam:"_",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"}};var a={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}};var F=C.setDefaults=function(P){w.extend(true,y,P)};w.fn.fullCalendar=function(S){if(typeof S=="string"){var R=Array.prototype.slice.call(arguments,1),T;this.each(function(){var U=w.data(this,"fullCalendar")[S].apply(this,R);if(T==i){T=U}});if(T!=i){return T}return this}var Q=S.eventSources||[];delete S.eventSources;if(S.events){Q.push(S.events);delete S.events}Q.unshift([]);S=w.extend(true,{},y,(S.isRTL||S.isRTL==i&&y.isRTL)?a:{},S);var P=S.theme?"ui":"fc";this.each(function(){var ai=this,W=w(this).addClass("fc"),an=w("<div class='fc-content "+P+"-widget-content' style='position:relative'/>").appendTo(this);if(S.isRTL){W.addClass("fc-rtl")}if(S.theme){W.addClass("ui-widget")}var au=new Date(),al,ah,ad={};if(S.year!=i){au.setYear(S.year)}if(S.month!=i){au.setMonth(S.month)}if(S.date!=i){au.setDate(S.date)}function ax(ay){if(ay!=al){Z();if(ah){if(ah.eventsChanged){am(ah);ah.eventsChanged=false}ah.element.hide()}if(ad[ay]){(ah=ad[ay]).element.show();if(ah.shown){ah.shown()}}else{ah=ad[ay]=w.fullCalendar.views[ay](w("<div class='fc-view fc-view-"+ay+"'/>").appendTo(an),S)}if(ao){ao.find("div.fc-button-"+al).removeClass(P+"-state-active");ao.find("div.fc-button-"+ay).addClass(P+"-state-active")}ah.name=al=ay;aw();ag()}}function aw(az){if(ai.offsetWidth!==0){if(az||!ah.date||+ah.date!=+au){Z();ah.render(au,az||0,function(aA){if(!X||ah.visStart<X||ah.visEnd>ap){af(aA)}else{aA(V)}});ag();ah.date=I(au)}else{if(ah.sizeDirty){ah.updateSize();ah.rerenderEvents()}else{if(ah.eventsDirty){ah.clearEvents();ah.renderEvents(V)}}}if(ao){ao.find("h2.fc-header-title").html(ah.title);var ay=new Date();if(ay>=ah.start&&ay<ah.end){ao.find("div.fc-button-today").addClass(P+"-state-disabled")}else{ao.find("div.fc-button-today").removeClass(P+"-state-disabled")}}ah.sizeDirty=false;ah.eventsDirty=false;ah.trigger("viewDisplay",ai)}}function am(ay){w.each(ad,function(){if(this!=ay){this.eventsDirty=true}})}function ak(ay){w.each(ad,function(){if(this!=ay){this.sizeDirty=true}})}function Y(){ah.clearEvents();ah.renderEvents(V);am(ah)}var V=[],X,ap;function af(aB){V=[];X=I(ah.visStart);ap=I(ah.visEnd);var aA=Q.length,ay=function(){if(--aA==0){if(aB){aB(V)}}},az=0;for(;az<Q.length;az++){ab(Q[az],ay)}}function ab(aD,aE){var az=ah.name,aC=I(au),aB=function(aF){if(az==ah.name&&+aC==+au){for(var aG=0;aG<aF.length;aG++){v(aF[aG],S);aF[aG].source=aD}V=V.concat(aF);if(aE){aE(aF)}}},ay=function(aF){aB(aF);av()};if(typeof aD=="string"){var aA={};aA[S.startParam]=Math.round(X.getTime()/1000);aA[S.endParam]=Math.round(ap.getTime()/1000);aA[S.cacheParam]=(new Date()).getTime();ac();w.getJSON(aD,aA,ay)}else{if(w.isFunction(aD)){ac();aD(I(X),I(ap),ay)}else{aB(aD)}}}var aq=0;function ac(){if(!aq++){ah.trigger("loading",ai,true)}}function av(){if(!--aq){ah.trigger("loading",ai,false)}}var at={render:aw,changeView:ax,prev:function(){aw(-1)},next:function(){aw(1)},prevYear:function(){O(au,-1);aw()},nextYear:function(){O(au,1);aw()},today:function(){au=new Date();aw()},gotoDate:function(ay,aA,az){if(typeof ay=="object"){au=I(ay)}else{if(ay!=i){au.setYear(ay)}if(aA!=i){au.setMonth(aA)}if(az!=i){au.setDate(az)}}aw()},incrementDate:function(az,ay,aA){if(az!=i){O(au,az)}if(ay!=i){k(au,ay)}if(aA!=i){s(au,aA)}aw()},updateEvent:function(aC){var aA,ay=V.length,aD,aB=aC.start-aC._start,az=aC.end?(aC.end-(aC._end||ah.defaultEventEnd(aC))):0;for(aA=0;aA<ay;aA++){aD=V[aA];if(aD._id==aC._id&&aD!=aC){aD.start=new Date(+aD.start+aB);if(aC.end){if(aD.end){aD.end=new Date(+aD.end+az)}else{aD.end=new Date(+ah.defaultEventEnd(aD)+az)}}else{aD.end=null}aD.title=aC.title;aD.url=aC.url;aD.allDay=aC.allDay;aD.className=aC.className;aD.editable=aC.editable;v(aD,S)}}v(aC,S);Y()},renderEvent:function(az,ay){v(az,S);if(!az.source){if(ay){(az.source=Q[0]).push(az)}V.push(az)}Y()},removeEvents:function(az){if(!az){V=[];for(var ay=0;ay<Q.length;ay++){if(typeof Q[ay]=="object"){Q[ay]=[]}}}else{if(!w.isFunction(az)){var aA=az+"";az=function(aB){return aB._id==aA}}V=w.grep(V,az,true);for(var ay=0;ay<Q.length;ay++){if(typeof Q[ay]=="object"){Q[ay]=w.grep(Q[ay],az,true)}}}Y()},clientEvents:function(ay){if(w.isFunction(ay)){return w.grep(V,ay)}else{if(ay){ay+="";return w.grep(V,function(az){return az._id==ay})}}return V},rerenderEvents:function(){ah.rerenderEvents()},addEventSource:function(ay){Q.push(ay);ab(ay,function(){Y()})},removeEventSource:function(ay){Q=w.grep(Q,function(az){return az!=ay});V=w.grep(V,function(az){return az.source!=ay});Y()},refetchEvents:function(){af(Y)}};w.data(this,"fullCalendar",at);var ao,aj=S.header;if(aj){ao=w("<table class='fc-header'/>").append(w("<tr/>").append(w("<td class='fc-header-left'/>").append(ae(aj.left))).append(w("<td class='fc-header-center'/>").append(ae(aj.center))).append(w("<td class='fc-header-right'/>").append(ae(aj.right)))).prependTo(W)}function ae(ay){if(ay){var az=w("<tr/>");w.each(ay.split(" "),function(aB){if(aB>0){az.append("<td><span class='fc-header-space'/></td>")}var aA;w.each(this.split(","),function(aE,aD){if(aD=="title"){az.append("<td><h2 class='fc-header-title'/></td>");if(aA){aA.addClass(P+"-corner-right")}aA=null}else{var aC;if(at[aD]){aC=at[aD]}else{if(c[aD]){aC=function(){aF.removeClass(P+"-state-hover");ax(aD)}}}if(aC){if(aA){aA.addClass(P+"-no-right")}var aF,aG=S.theme?f(S.buttonIcons,aD):null,aH=f(S.buttonText,aD);if(aG){aF=w("<div class='fc-button-"+aD+" ui-state-default'><a><span class='ui-icon ui-icon-"+aG+"'/></a></div>")}else{if(aH){aF=w("<div class='fc-button-"+aD+" "+P+"-state-default'><a><span>"+aH+"</span></a></div>")}}if(aF){aF.click(function(){if(!aF.hasClass(P+"-state-disabled")){aC()}}).mousedown(function(){aF.not("."+P+"-state-active").not("."+P+"-state-disabled").addClass(P+"-state-down")}).mouseup(function(){aF.removeClass(P+"-state-down")}).hover(function(){aF.not("."+P+"-state-active").not("."+P+"-state-disabled").addClass(P+"-state-hover")},function(){aF.removeClass(P+"-state-hover").removeClass(P+"-state-down")}).appendTo(w("<td/>").appendTo(az));if(aA){aA.addClass(P+"-no-right")}else{aF.addClass(P+"-corner-left")}aA=aF}}}});if(aA){aA.addClass(P+"-corner-right")}});return w("<table/>").append(az)}}var ar,aa=false,U=0;function Z(){if(!aa){aa=true;an.css({overflow:"hidden",height:Math.round(an.width()/S.aspectRatio)})}}function ag(){if(aa){an.css({overflow:"visible",height:""});if(w.browser.msie&&(w.browser.version=="6.0"||w.browser.version=="7.0")){an[0].clientHeight;an.hide().show()}aa=false}}w(window).resize(function(){if(!aa&&ah.date){var ay=++U;setTimeout(function(){if(ay==U&&!aa){var az=W.width();if(az!=ar){ar=az;Z();ah.updateSize();ag();ah.rerenderEvents(true);ak(ah);ah.trigger("windowResize",ai)}}},200)}});ax(S.defaultView);ar=W.width()});return this};var H=0;function v(Q,P){Q._id=Q._id||(Q.id==i?"_fc"+H++:Q.id+"");if(Q.date){if(!Q.start){Q.start=Q.date}delete Q.date}Q._start=I(Q.start=d(Q.start));Q.end=d(Q.end);if(Q.end&&Q.end<=Q.start){Q.end=null}Q._end=Q.end?I(Q.end):null;if(Q.allDay==i){Q.allDay=P.allDayDefault}if(Q.className){if(typeof Q.className=="string"){Q.className=Q.className.split(/\s+/)}}else{Q.className=[]}}F({weekMode:"fixed"});c.month=function(Q,P){return new x(Q,P,{render:function(R,V,S){if(V){k(R,V);R.setDate(1)}var U=this.start=I(R,true);U.setDate(1);this.title=o(U,s(I(this.end=k(I(U),1)),-1),this.option("titleFormat"),P);s(this.visStart=I(U),-((U.getDay()-P.firstDay+7)%7));s(this.visEnd=I(this.end),(7-this.visEnd.getDay()+P.firstDay)%7);var T=Math.round((this.visEnd-this.visStart)/(K*7));if(P.weekMode=="fixed"){s(this.visEnd,(6-T)*7);T=6}this.renderGrid(T,7,this.option("columnFormat"),true,S)}})};c.basicWeek=function(Q,P){return new x(Q,P,{render:function(R,T,S){if(T){s(R,T*7)}this.title=o(this.start=this.visStart=s(I(R),-((R.getDay()-P.firstDay+7)%7)),s(I(this.end=this.visEnd=s(I(this.start),7)),-1),this.option("titleFormat"),P);this.renderGrid(1,7,this.option("columnFormat"),false,S)}})};c.basicDay=function(Q,P){return new x(Q,P,{render:function(R,T,S){if(T){s(R,T)}this.title=G(R,this.option("titleFormat"),P);this.start=this.visStart=I(R,true);this.end=this.visEnd=s(I(this.start),1);this.renderGrid(1,1,this.option("columnFormat"),false,S)}})};var A,m;function x(R,U,ak){var S,aa,W,ae,ad,X,ag,al,ai,Q,Y,ab=w.extend(this,h,ak,{renderGrid:af,renderEvents:T,rerenderEvents:aj,updateSize:ah,defaultEventEnd:function(am){return I(am.start)},visEventEnd:function(an){if(an.end){var am=I(an.end);return(an.allDay||am.getHours()||am.getMinutes())?s(am,1):am}else{return s(I(an.start),1)}}});ab.init(R,U);R.addClass("fc-grid").css("position","relative");if(R.disableSelection){R.disableSelection()}function af(am,at,ap,aw,av){X=am;ag=at;S=U.theme?"ui":"fc";aa=U.firstDay;if(W=U.isRTL){ae=-1;ad=ag-1}else{ae=1;ad=0}var aq=ab.start.getMonth(),au=q(new Date()),az,ao,an,ar=I(ab.visStart);if(!Q){var ay=w("<table/>").appendTo(R);az="<thead><tr>";for(ao=0;ao<ag;ao++){az+="<th class='fc-"+L[ar.getDay()]+" "+S+"-state-default"+(ao==ad?" fc-leftmost":"")+"'>"+G(ar,ap,U)+"</th>";s(ar,1)}ai=w(az+"</tr></thead>").appendTo(ay);az="<tbody>";ar=I(ab.visStart);for(ao=0;ao<X;ao++){az+="<tr class='fc-week"+ao+"'>";for(an=0;an<ag;an++){az+="<td class='fc-"+L[ar.getDay()]+" "+S+"-state-default fc-day"+(ao*ag+an)+(an==ad?" fc-leftmost":"")+(X>1&&ar.getMonth()!=aq?" fc-other-month":"")+(+ar==+au?" fc-today "+S+"-state-highlight":" fc-not-today")+"'>"+(aw?"<div class='fc-day-number'>"+ar.getDate()+"</div>":"")+"<div class='fc-day-content'><div>&nbsp;</div></div></td>";s(ar,1)}az+="</tr>"}Q=w(az+"</tbody>").appendTo(ay);Q.find("td").click(P)}else{ab.clearEvents();var ax=Q.find("tr").length;if(X<ax){Q.find("tr:gt("+(X-1)+")").remove()}else{if(X>ax){az="";for(ao=ax;ao<X;ao++){az+="<tr class='fc-week"+ao+"'>";for(an=0;an<ag;an++){az+="<td class='fc-"+L[ar.getDay()]+" "+S+"-state-default fc-new fc-day"+(ao*ag+an)+(an==ad?" fc-leftmost":"")+"'>"+(aw?"<div class='fc-day-number'></div>":"")+"<div class='fc-day-content'><div>&nbsp;</div></div></td>";s(ar,1)}az+="</tr>"}Q.append(az)}}Q.find("td.fc-new").removeClass("fc-new").click(P);ar=I(ab.visStart);Q.find("td").each(function(){var aA=w(this);if(X>1){if(ar.getMonth()==aq){aA.removeClass("fc-other-month")}else{aA.addClass("fc-other-month")}}if(+ar==+au){aA.removeClass("fc-not-today").addClass("fc-today").addClass(S+"-state-highlight")}else{aA.addClass("fc-not-today").removeClass("fc-today").removeClass(S+"-state-highlight")}aA.find("div.fc-day-number").text(ar.getDate());s(ar,1)});if(X==1){ar=I(ab.visStart);ai.find("th").each(function(){w(this).text(G(ar,ap,U));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+L[ar.getDay()]);s(ar,1)});ar=I(ab.visStart);Q.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+L[ar.getDay()]);s(ar,1)})}}ah();av(T)}function P(an){var am=s(I(ab.visStart),parseInt(this.className.match(/fc\-day(\d+)/)[1]));ab.trigger("dayClick",this,am,true,an)}function ah(){var am=Math.round(R.width()/U.aspectRatio),an=Q.find("tr td:first-child"),at=am-ai.height(),aq,ap;if(U.weekMode=="variable"){aq=ap=Math.floor(at/(X==1?2:6))}else{aq=Math.floor(at/X);ap=at-aq*(X-1)}z(Q);if(A==i){var ao=Q.find("tr:first"),ar=ao.find("td:first");ar.height(aq);A=aq!=ar.height()}if(A){an.slice(0,-1).height(aq);an.slice(-1).height(ap)}else{e(an.slice(0,-1),aq);e(an.slice(-1),ap)}M(ai.find("th").slice(0,-1),al=Math.floor(R.width()/ag))}function T(am){ab.reportEvents(am);V(Y=Z(am))}function aj(am){ab.clearEvents();if(am){V(Y)}else{T(ab.cachedEvents)}}function Z(an){var aq=I(ab.visStart),ao=s(I(aq),ag),ap=[],am=0;for(;am<X;am++){ap.push(B(ab.sliceSegs(an,aq,ao)));s(aq,7);s(ao,7)}return ap}function V(ay){var aD,aF=ay.length,at,ao,au,aJ,av,ax,aB,aw,aH,aA,aG,aC,ap,am,az,aq,aI,aE,an,ar;for(aD=0;aD<aF;aD++){at=ay[aD];ao=Q.find("tr:eq("+aD+")");au=ao.find("td:first");aJ=au.find("div.fc-day-content div").css("position","relative");av=E(aJ,au,ao,Q).top;ax=0;for(aB=0;aB<at.length;aB++){aw=at[aB];aH=0;for(aA=0;aA<aw.length;aA++){aG=aw[aA];aC=aG.event;ap="fc-event fc-event-hori ";am=aG.isStart?ao.find("td:eq("+((aG.start.getDay()-aa+ag)%ag)+") div div"):Q;az=aG.isEnd?ao.find("td:eq("+((aG.end.getDay()-aa+ag-1)%ag)+") div div"):Q;if(W){aq=az.position().left;aI=am.position().left+am.width();if(aG.isStart){ap+="fc-corner-right "}if(aG.isEnd){ap+="fc-corner-left "}}else{aq=am.position().left;aI=az.position().left+az.width();if(aG.isStart){ap+="fc-corner-left "}if(aG.isEnd){ap+="fc-corner-right "}}aE=w("<div class='"+ap+aC.className.join(" ")+"'/>").append(an=w("<a/>").append(aC.allDay||!aG.isStart?null:w("<span class='fc-event-time'/>").html(o(aC.start,aC.end,ab.option("timeFormat"),U))).append(w("<span class='fc-event-title'/>").text(aC.title)));if(aC.url){an.attr("href",aC.url)}ar=ab.trigger("eventRender",aC,aC,aE);if(ar!==false){if(ar&&typeof ar!="boolean"){aE=w(ar)}aE.css({position:"absolute",top:av,left:aq+(m||0),zIndex:8}).appendTo(R);M(aE,aI-aq,true);if(W&&m==i){m=aq-aE.position().left;if(m){aE.css("left",aq+m)}}ab.eventElementHandlers(aC,aE);if(aC.editable||aC.editable==i&&U.editable){ac(aC,aE);if(aG.isEnd){ab.resizableDayEvent(aC,aE,al)}}ab.reportEventElement(aC,aE);aH=Math.max(aH,aE.outerHeight(true))}}ax+=aH;av+=aH}aJ.height(ax)}}function ac(ao,an){if(!U.disableDragging&&an.draggable){var am;an.draggable({zIndex:9,delay:50,opacity:ab.option("dragOpacity"),revertDuration:U.dragRevertDuration,start:function(aq,ar){ab.hideEvents(ao,an);ab.trigger("eventDragStart",an,ao,aq,ar);am=new b(function(at){an.draggable("option","revert",!at||!at.rowDelta&&!at.colDelta);if(at){ab.showOverlay(at)}else{ab.hideOverlay()}});Q.find("tr").each(function(){am.row(this)});var ap=Q.find("tr:first td");if(W){ap=w(ap.get().reverse())}ap.each(function(){am.col(this)});am.mouse(aq.pageX,aq.pageY)},drag:function(ap){am.mouse(ap.pageX,ap.pageY)},stop:function(aq,ar){ab.hideOverlay();ab.trigger("eventDragStop",an,ao,aq,ar);var ap=am.cell;if(!ap||!ap.rowDelta&&!ap.colDelta){if(w.browser.msie){an.css("filter","")}ab.showEvents(ao,an)}else{an.find("a").removeAttr("href");ab.eventDrop(this,ao,ap.rowDelta*7+ap.colDelta*ae,0,ao.allDay,aq,ar)}}})}}}F({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5}});c.agendaWeek=function(Q,P){return new p(Q,P,{render:function(R,T,S){if(T){s(R,T*7)}this.title=o(this.start=this.visStart=s(I(R),-((R.getDay()-P.firstDay+7)%7)),s(I(this.end=this.visEnd=s(I(this.start),7)),-1),this.option("titleFormat"),P);this.renderAgenda(7,this.option("columnFormat"),S)}})};c.agendaDay=function(Q,P){return new p(Q,P,{render:function(R,T,S){if(T){s(R,T)}this.title=G(R,this.option("titleFormat"),P);this.start=this.visStart=I(R,true);this.end=this.visEnd=s(I(this.start),1);this.renderAgenda(1,this.option("columnFormat"),S)}})};function p(T,X,at){var Z,af,al,S,V,am,aq,av,aw,au,ac,U,ag,aa,ak,aj,ah=w.extend(this,h,at,{renderAgenda:ab,renderEvents:W,rerenderEvents:ap,updateSize:ao,shown:ad,defaultEventEnd:function(ax){var ay=I(ax.start);if(ax.allDay){return ay}return j(ay,X.defaultEventMinutes)},visEventEnd:function(ay){if(ay.allDay){if(ay.end){var ax=I(ay.end);return(ay.allDay||ax.getHours()||ax.getMinutes())?s(ax,1):ax}else{return s(I(ay.start),1)}}if(ay.end){return I(ay.end)}else{return j(I(ay.start),X.defaultEventMinutes)}}});ah.init(T,X);T.addClass("fc-agenda").css("position","relative");if(T.disableSelection){T.disableSelection()}function ab(aD,aA,aF){am=aD;U=X.theme?"ui":"fc";ag=X.firstDay;if(aa=X.isRTL){ak=-1;aj=am-1}else{ak=1;aj=0}var ax=aa?s(I(ah.visEnd),-1):I(ah.visStart),aB=I(ax),aE=q(new Date());if(!Z){var az,ay,aC=X.slotMinutes%15==0,aG="<div class='fc-agenda-head' style='position:relative;z-index:4'><table style='width:100%'><tr class='fc-first"+(X.allDaySlot?"":" fc-last")+"'><th class='fc-leftmost "+U+"-state-default'>&nbsp;</th>";for(az=0;az<am;az++){aG+="<th class='fc-"+L[aB.getDay()]+" "+U+"-state-default'>"+G(aB,aA,X)+"</th>";s(aB,ak)}aG+="<th class='"+U+"-state-default'>&nbsp;</th></tr>";if(X.allDaySlot){aG+="<tr class='fc-all-day'><th class='fc-axis fc-leftmost "+U+"-state-default'>"+X.allDayText+"</th><td colspan='"+am+"' class='"+U+"-state-default'><div class='fc-day-content'><div>&nbsp;</div></div></td><th class='"+U+"-state-default'>&nbsp;</th></tr><tr class='fc-divider fc-last'><th colspan='"+(am+2)+"' class='"+U+"-state-default fc-leftmost'><div/></th></tr>"}aG+="</table></div>";Z=w(aG).appendTo(T);Z.find("td").click(Y);aB=new Date(1970,0,1);aG="<table>";for(az=0;aB.getDate()!=2;az++){ay=aB.getMinutes();aG+="<tr class='"+(az==0?"fc-first":(ay==0?"":"fc-minor"))+"'><th class='fc-axis fc-leftmost "+U+"-state-default'>"+((!aC||ay==0)?G(aB,X.axisFormat):"&nbsp;")+"</th><td class='fc-slot"+az+" "+U+"-state-default'><div>&nbsp;</div></td></tr>";j(aB,X.slotMinutes)}aG+="</table>";af=w("<div class='fc-agenda-body' style='position:relative;z-index:2;overflow:auto'/>").append(al=w("<div style='position:relative;overflow:hidden'>").append(S=w(aG))).appendTo(T);af.find("td").click(Y);aB=I(ax);aG="<div class='fc-agenda-bg' style='position:absolute;z-index:1'><table style='width:100%;height:100%'><tr class='fc-first'>";for(az=0;az<am;az++){aG+="<td class='fc-"+L[az]+" "+U+"-state-default "+(az==0?"fc-leftmost ":"")+(+aB==+aE?U+"-state-highlight fc-today":"fc-not-today")+"'><div class='fc-day-content'><div>&nbsp;</div></div></td>";s(aB,ak)}aG+="</tr></table></div>";V=w(aG).appendTo(T)}else{ah.clearEvents();Z.find("tr:first th").slice(1,-1).each(function(){w(this).text(G(aB,aA,X));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+L[aB.getDay()]);s(aB,ak)});aB=I(ax);V.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+L[aB.getDay()]);if(+aB==+aE){w(this).removeClass("fc-not-today").addClass("fc-today").addClass(U+"-state-highlight")}else{w(this).addClass("fc-not-today").removeClass("fc-today").removeClass(U+"-state-highlight")}s(aB,ak)})}ao();ad();aF(W)}function ad(){var az=new Date(1970,0,1),ax=I(az);ax.setHours(X.firstHour);var ay=function(){af.scrollTop(an(az,ax)+1)};if(w.browser.opera){setTimeout(ay,0)}else{ay()}}function ao(){S.width("");af.height(Math.round(af.width()/X.aspectRatio)-Z.height());af[0].clientWidth;var az=Z.find("tr:first th"),ay=V.find("td"),ax=af[0].clientWidth;S.width(ax);aq=0;M(Z.find("tr:lt(2) th:first").add(af.find("tr:first th")).width("").each(function(){aq=Math.max(aq,w(this).outerWidth())}),aq);av=Math.floor((ax-aq)/am);M(ay.slice(0,-1),av);M(az.slice(1,-2),av);M(az.slice(-2,-1),ax-aq-av*(am-1));V.css({top:Z.find("tr").height(),left:aq,width:ax-aq,height:T.height()});aw=af.find("tr:first div").height()+1}function Y(aB){var az=Math.floor((aB.pageX-V.offset().left)/av),ay=s(I(ah.visStart),aj+ak*az),aC=this.className.match(/fc-slot(\d+)/);if(aC){var aA=parseInt(aC[1])*X.slotMinutes,ax=Math.floor(aA/60);ay.setHours(ax);ay.setMinutes(aA%60);ah.trigger("dayClick",this,ay,false,aB)}else{ah.trigger("dayClick",this,ay,true,aB)}}function W(aA){ah.reportEvents(aA);var az,ay=aA.length,aB=[],ax=[];for(az=0;az<ay;az++){if(aA[az].allDay){aB.push(aA[az])}else{ax.push(aA[az])}}ai(au=B(ah.sliceSegs(aB,ah.visStart,ah.visEnd)));ae(ac=P(ax))}function ap(ax){ah.clearEvents();if(ax){ai(au);ae(ac)}else{W(ah.cachedEvents)}}function P(az){var aC=I(ah.visStart),aA=s(I(aC),1),aB,ax=[],ay=0;for(;ay<am;ay++){aB=B(ah.sliceSegs(az,aC,aA));D(aB);ax.push(aB);s(aC,1);s(aA,1)}return ax}function ai(aH){if(X.allDaySlot){var aG=Z.find("td"),aS=aG.find("div div"),ay=aG.parent(),aI=E(aS,aG,ay,ay.parent()).top,aJ=0,aM,aO=aH.length,ax,aQ,aK,aP,aL,az,aA,aT,aD,aF,aC,aR,aN,aB,aE;for(aM=0;aM<aO;aM++){ax=aH[aM];aQ=0;for(aK=0;aK<ax.length;aK++){aP=ax[aK];aL=aP.event;az="fc-event fc-event-hori ";if(aa){aA=aP.end.getDay()-1;aT=aP.isEnd;aD=aP.start.getDay();aF=aP.isStart}else{aA=aP.start.getDay();aT=aP.isStart;aD=aP.end.getDay()-1;aF=aP.isEnd}if(aT){az+="fc-corner-left ";aC=V.find("td:eq("+(((aA-ag+am)%am)*ak+aj)+") div div").position().left+aq}else{aC=aq}if(aF){az+="fc-corner-right ";aR=V.find("td:eq("+(((aD-ag+am)%am)*ak+aj)+") div div");aR=aR.position().left+aR.width()+aq}else{aR=aq+V.width()}aN=w("<div class='"+az+aL.className.join(" ")+"'/>").append(aB=w("<a/>").append(w("<span class='fc-event-title' />").text(aL.title)));if(aL.url){aB.attr("href",aL.url)}aE=ah.trigger("eventRender",aL,aL,aN);if(aE!==false){if(aE&&typeof aE!="boolean"){aN=w(aE)}aN.css({position:"absolute",top:aI,left:aC,zIndex:8}).appendTo(Z);M(aN,aR-aC,true);ah.eventElementHandlers(aL,aN);if(aL.editable||aL.editable==i&&X.editable){R(aL,aN,aP.isStart);if(aP.isEnd){ah.resizableDayEvent(aL,aN,av)}}ah.reportEventElement(aL,aN);aQ=Math.max(aQ,aN.outerHeight(true))}}aI+=aQ;aJ+=aQ}aS.height(aJ);ao()}}function ae(aM){var aF,aN=aM.length,aD,aB,ax,aI,aQ,aH,aO,aJ,aG,aR,aL,aC,ay,aP,aA,az,aK,aE;for(aF=0;aF<aN;aF++){aD=aM[aF];for(aB=0;aB<aD.length;aB++){ax=aD[aB];for(aI=0;aI<ax.length;aI++){aQ=ax[aI];aH=aQ.forward||0;aO=aQ.event;aJ=an(aQ.start,aQ.start);aG=an(aQ.start,aQ.end);aR=V.find("td:eq("+(aF*ak+aj)+") div div");availWidth=aR.width();if(aB){aL=availWidth/(aB+aH+1)}else{if(aH){aL=((availWidth/(aH+1))-(12/2))*2}else{aL=availWidth*0.96}}aC=aq+aR.position().left+(availWidth/(aB+aH+1)*aB)*ak+(aa?availWidth-aL:0);ay="fc-event fc-event-vert ";if(aQ.isStart){ay+="fc-corner-top "}if(aQ.isEnd){ay+="fc-corner-bottom "}aP=w("<div class='"+ay+aO.className.join(" ")+"' />").append(aA=w("<a><span class='fc-event-bg'/></a>").append(az=w("<span class='fc-event-time'/>").text(o(aO.start,aO.end,ah.option("timeFormat")))).append(aK=w("<span class='fc-event-title'/>").text(aO.title)));if(aO.url){aA.attr("href",aO.url)}aE=ah.trigger("eventRender",aO,aO,aP);if(aE!==false){if(aE&&typeof aE!="boolean"){aP=w(aE)}aP.css({position:"absolute",zIndex:8,top:aJ,left:aC}).appendTo(al);M(aP,aL,true);e(aP,aG-aJ,true);if(aP.height()-aK.position().top<10){az.text(G(aO.start,ah.option("timeFormat"))+" - "+aO.title);aK.remove()}ah.eventElementHandlers(aO,aP);if(aO.editable||aO.editable==i&&X.editable){Q(aO,aP,az);if(aQ.isEnd){ar(aO,aP,az)}}}ah.reportEventElement(aO,aP)}}}}function R(aC,az,ax){if(!X.disableDragging&&az.draggable){var aB,aE,aA,aD=true,ay;az.draggable({zIndex:9,opacity:ah.option("dragOpacity","month"),revertDuration:X.dragRevertDuration,start:function(aF,aG){ah.hideEvents(aC,az);ah.trigger("eventDragStart",az,aC,aF,aG);aB=az.position();aE=az.width();aA=function(){if(!aD){az.width(aE).height("").draggable("option","grid",null);aD=true}};ay=new b(function(aH){az.draggable("option","revert",!aH||!aH.rowDelta&&!aH.colDelta);if(aH){if(!aH.row){aA();ah.showOverlay(aH)}else{if(ax&&aD){e(az.width(av-10),aw*Math.round((aC.end?((aC.end-aC.start)/N):X.defaultEventMinutes)/X.slotMinutes));az.draggable("option","grid",[av,1]);aD=false}ah.hideOverlay()}}else{ah.hideOverlay()}});ay.row(Z.find("td"));V.find("td").each(function(){ay.col(this)});ay.row(af);ay.mouse(aF.pageX,aF.pageY)},drag:function(aF,aG){ay.mouse(aF.pageX,aF.pageY)},stop:function(aH,aI){ah.hideOverlay();ah.trigger("eventDragStop",az,aC,aH,aI);var aF=ay.cell,aG=ak*(aD?(aF?aF.colDelta:0):Math.floor((aI.position.left-aB.left)/av));if(!aF||!aG&&!aF.rowDelta){aA();if(w.browser.msie){az.css("filter","")}ah.showEvents(aC,az)}else{az.find("a").removeAttr("href");ah.eventDrop(this,aC,aG,aD?0:Math.round((az.offset().top-al.offset().top)/aw)*X.slotMinutes-(aC.start.getHours()*60+aC.start.getMinutes()),aD,aH,aI)}}})}}function Q(ax,aB,aD){if(!X.disableDragging&&aB.draggable){var ay,az,aA,aE,aF=false,aC;aB.draggable({zIndex:9,scroll:false,grid:[av,aw],axis:am==1?"y":false,opacity:ah.option("dragOpacity"),revertDuration:X.dragRevertDuration,start:function(aG,aH){ah.hideEvents(ax,aB);ah.trigger("eventDragStart",aB,ax,aG,aH);if(w.browser.msie){aB.find("span.fc-event-bg").hide()}ay=aB.position();az=function(){if(aF){aD.css("display","");aB.draggable("option","grid",[av,aw]);aF=false}};aA=0;aC=new b(function(aI){aB.draggable("option","revert",!aI);if(aI){if(!aI.row&&X.allDaySlot){if(!aF){aF=true;aD.hide();aB.draggable("option","grid",null)}ah.showOverlay(aI)}else{az();ah.hideOverlay()}}else{ah.hideOverlay()}});if(X.allDaySlot){aC.row(Z.find("td"))}V.find("td").each(function(){aC.col(this)});aC.row(af);aC.mouse(aG.pageX,aG.pageY)},drag:function(aJ,aK){aE=Math.round((aK.position.top-ay.top)/aw);if(aE!=aA){if(!aF){var aH=aE*X.slotMinutes,aG=j(I(ax.start),aH),aI;if(ax.end){aI=j(I(ax.end),aH)}aD.text(o(aG,aI,ah.option("timeFormat")))}aA=aE}aC.mouse(aJ.pageX,aJ.pageY)},stop:function(aI,aJ){ah.hideOverlay();ah.trigger("eventDragStop",aB,ax,aI,aJ);var aG=aC.cell,aH=ak*(aF?(aG?aG.colDelta:0):Math.floor((aJ.position.left-ay.left)/av));if(!aG||!aE&&!aH){az();if(w.browser.msie){aB.css("filter","").find("span.fc-event-bg").css("display","")}aB.css(ay);ah.showEvents(ax,aB)}else{ah.eventDrop(this,ax,aH,aF?0:aE*X.slotMinutes,aF,aI,aJ)}}})}}function ar(az,ay,aA){if(!X.disableResizing&&ay.resizable){var aB,ax;ay.resizable({handles:"s",grid:aw,start:function(aC,aD){aB=ax=0;ah.hideEvents(az,ay);if(w.browser.msie&&w.browser.version=="6.0"){ay.css("overflow","hidden")}ay.css("z-index",9);ah.trigger("eventResizeStart",this,az,aC,aD)},resize:function(aC,aD){aB=Math.round((Math.max(aw,ay.height())-aD.originalSize.height)/aw);if(aB!=ax){aA.text(o(az.start,(!aB&&!az.end)?null:j(ah.eventEnd(az),X.slotMinutes*aB),ah.option("timeFormat")));ax=aB}},stop:function(aC,aD){ah.trigger("eventResizeStop",this,az,aC,aD);if(aB){ah.eventResize(this,az,0,X.slotMinutes*aB,aC,aD)}else{ay.css("z-index",8);ah.showEvents(az,ay)}}}).find("div.ui-resizable-s").text("=")}}function an(ay,aD){if(aD>ay&&aD.getDay()!=ay.getDay()){return al.height()}var ax=X.slotMinutes,aA=aD.getHours()*60+aD.getMinutes(),az=Math.floor(aA/ax),aC=af.find("tr:eq("+az+")"),aE=aC.find("td"),aB=aE.find("div");return Math.max(0,Math.round(E(aB,aE,aC,aC.parent()).top-1+aw*((aA%ax)/ax)))}}function D(T){var R,Q,P,V,U,S;for(R=T.length-1;R>0;R--){V=T[R];for(Q=0;Q<V.length;Q++){U=V[Q];for(P=0;P<T[R-1].length;P++){S=T[R-1][P];if(r(U,S)){S.forward=Math.max(S.forward||0,(U.forward||0)+1)}}}}}var h={init:function(Q,P){this.element=Q;this.options=P;this.cachedEvents=[];this.eventsByID={};this.eventElements=[];this.eventElementsByID={}},trigger:function(P,Q){if(this.options[P]){return this.options[P].apply(Q||this,Array.prototype.slice.call(arguments,2).concat([this]))}},eventEnd:function(P){return P.end?I(P.end):this.defaultEventEnd(P)},reportEvents:function(S){var R,P=S.length,T,Q=this.eventsByID={},U=this.cachedEvents=[];for(R=0;R<P;R++){T=S[R];if(Q[T._id]){Q[T._id].push(T)}else{Q[T._id]=[T]}U.push(T)}},reportEventElement:function(Q,P){this.eventElements.push(P);var R=this.eventElementsByID;if(R[Q._id]){R[Q._id].push(P)}else{R[Q._id]=[P]}},clearEvents:function(){w.each(this.eventElements,function(){this.remove()});this.eventElements=[];this.eventElementsByID={}},showEvents:function(Q,P){this._eee(Q,P,"show")},hideEvents:function(Q,P){this._eee(Q,P,"hide")},_eee:function(S,R,U){var T=this.eventElementsByID[S._id],Q,P=T.length;for(Q=0;Q<P;Q++){if(T[Q]!=R){T[Q][U]()}}},eventDrop:function(R,P,Q,S,X,U,T){var V=this,W=P.allDay;V.moveEvents(V.eventsByID[P._id],Q,S,X);V.trigger("eventDrop",R,P,Q,S,X,function(){V.moveEvents(V.eventsByID[P._id],-Q,-S,W);V.rerenderEvents()},U,T);V.eventsChanged=true;V.rerenderEvents()},eventResize:function(V,T,R,Q,S,U){var P=this;P.elongateEvents(P.eventsByID[T._id],R,Q);P.trigger("eventResize",V,T,R,Q,function(){P.elongateEvents(P.eventsByID[T._id],-R,-Q);P.rerenderEvents()},S,U);P.eventsChanged=true;P.rerenderEvents()},moveEvents:function(T,R,Q,U){Q=Q||0;for(var V,P=T.length,S=0;S<P;S++){V=T[S];if(U!=i){V.allDay=U}j(s(V.start,R,true),Q);if(V.end){V.end=j(s(V.end,R,true),Q)}v(V,this.options)}},elongateEvents:function(T,R,Q){Q=Q||0;for(var U,P=T.length,S=0;S<P;S++){U=T[S];U.end=j(s(this.eventEnd(U),R,true),Q);v(U,this.options)}},showOverlay:function(P){if(!this.dayOverlay){this.dayOverlay=w("<div class='fc-cell-overlay' style='position:absolute;z-index:3;display:none'/>").appendTo(this.element)}var Q=this.element.offset();this.dayOverlay.css({top:P.top-Q.top,left:P.left-Q.left,width:P.width,height:P.height}).show()},hideOverlay:function(){if(this.dayOverlay){this.dayOverlay.hide()}},resizableDayEvent:function(S,Q,R){var P=this;if(!P.options.disableResizing&&Q.resizable){Q.resizable({handles:P.options.isRTL?"w":"e",grid:R,minWidth:R/2,containment:P.element.parent().parent(),start:function(T,U){Q.css("z-index",9);P.hideEvents(S,Q);P.trigger("eventResizeStart",this,S,T,U)},stop:function(U,V){P.trigger("eventResizeStop",this,S,U,V);var T=Math.round((Q.width()-V.originalSize.width)/R);if(T){P.eventResize(this,S,T,0,U,V)}else{Q.css("z-index",8);P.showEvents(S,Q)}}})}},eventElementHandlers:function(R,Q){var P=this;Q.click(function(S){if(!Q.hasClass("ui-draggable-dragging")&&!Q.hasClass("ui-resizable-resizing")){return P.trigger("eventClick",this,R,S)}}).hover(function(S){P.trigger("eventMouseover",this,R,S)},function(S){P.trigger("eventMouseout",this,R,S)})},option:function(Q,R){var P=this.options[Q];if(typeof P=="object"){return f(P,R||this.name)}return P},sliceSegs:function(aa,R,U){var S=[],V,X=aa.length,Q,Y,W,Z,ab,P,T;for(V=0;V<X;V++){Q=aa[V];Y=Q.start;W=this.visEventEnd(Q);if(W>R&&Y<U){if(Y<R){Z=I(R);P=false}else{Z=Y;P=true}if(W>U){ab=I(U);T=false}else{ab=W;T=true}S.push({event:Q,start:Z,end:ab,isStart:P,isEnd:T,msLength:ab-Z})}}return S.sort(t)}};function B(R){var V=[],U,P=R.length,Q,T,W,S;for(U=0;U<P;U++){Q=R[U];T=0;while(true){W=false;if(V[T]){for(S=0;S<V[T].length;S++){if(r(V[T][S],Q)){W=true;break}}}if(W){T++}else{break}}if(V[T]){V[T].push(Q)}else{V[T]=[Q]}}return V}function t(Q,P){return(P.msLength-Q.msLength)*100+(Q.event.start-P.event.start)}function r(Q,P){return Q.end>P.start&&Q.start<P.end}var K=86400000,l=3600000,N=60000;function O(Q,R,P){Q.setFullYear(Q.getFullYear()+R);if(!P){q(Q)}return Q}function k(S,T,R){if(+S){var P=S.getMonth()+T,Q=I(S);Q.setDate(1);Q.setMonth(P);S.setMonth(P);if(!R){q(S)}while(S.getMonth()!=Q.getMonth()){S.setDate(S.getDate()+(S<Q?1:-1))}}return S}function s(S,T,R){if(+S){var P=S.getDate()+T,Q=I(S);Q.setHours(12);Q.setDate(P);S.setDate(P);if(!R){q(S)}while(S.getDate()!=Q.getDate()){S.setTime(+S+(S<Q?1:-1)*l)}}return S}function j(P,Q){P.setMinutes(P.getMinutes()+Q);return P}function q(P){P.setHours(0);P.setMinutes(0);P.setSeconds(0);P.setMilliseconds(0);return P}function I(P,Q){if(Q){return q(new Date(+P))}return new Date(+P)}var d=C.parseDate=function(P){if(typeof P=="object"){return P}if(typeof P=="number"){return new Date(P*1000)}if(typeof P=="string"){if(P.match(/^\d+$/)){return new Date(parseInt(P)*1000)}return g(P,true)||new Date(P)||null}return null};var g=C.parseISO8601=function(R,P){var T=R.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?$/);if(!T){return null}var S=0;var Q=new Date(T[1],0,1);if(T[3]){Q.setMonth(T[3]-1)}if(T[5]){Q.setDate(T[5])}if(T[7]){Q.setHours(T[7])}if(T[8]){Q.setMinutes(T[8])}if(T[10]){Q.setSeconds(T[10])}if(T[12]){Q.setMilliseconds(Number("0."+T[12])*1000)}if(!P){if(T[14]){S=(Number(T[16])*60)+Number(T[17]);S*=((T[15]=="-")?1:-1)}S-=Q.getTimezoneOffset()}return new Date(Number(Q)+(S*60*1000))};var G=C.formatDate=function(Q,R,P){return o(Q,null,R,P)};var o=C.formatDates=function(ab,aa,Z,ac){ac=ac||y;var Q=ab,S=aa,T,U=Z.length,W,R,Y,V="";for(T=0;T<U;T++){W=Z.charAt(T);if(W=="'"){for(R=T+1;R<U;R++){if(Z.charAt(R)=="'"){if(Q){if(R==T+1){V+="'"}else{V+=Z.substring(T+1,R)}T=R}break}}}else{if(W=="("){for(R=T+1;R<U;R++){if(Z.charAt(R)==")"){var P=G(Q,Z.substring(T+1,R),ac);if(parseInt(P.replace(/\D/,""))){V+=P}T=R;break}}}else{if(W=="["){for(R=T+1;R<U;R++){if(Z.charAt(R)=="]"){var X=Z.substring(T+1,R);var P=G(Q,X,ac);if(P!=G(S,X,ac)){V+=P}T=R;break}}}else{if(W=="{"){Q=aa;S=ab}else{if(W=="}"){Q=ab;S=aa}else{for(R=U;R>T;R--){if(Y=n[Z.substring(T,R)]){if(Q){V+=Y(Q,ac)}T=R-1;break}}if(R==T){if(Q){V+=W}}}}}}}}return V};var n={s:function(P){return P.getSeconds()},ss:function(P){return J(P.getSeconds())},m:function(P){return P.getMinutes()},mm:function(P){return J(P.getMinutes())},h:function(P){return P.getHours()%12||12},hh:function(P){return J(P.getHours()%12||12)},H:function(P){return P.getHours()},HH:function(P){return J(P.getHours())},d:function(P){return P.getDate()},dd:function(P){return J(P.getDate())},ddd:function(Q,P){return P.dayNamesShort[Q.getDay()]},dddd:function(Q,P){return P.dayNames[Q.getDay()]},M:function(P){return P.getMonth()+1},MM:function(P){return J(P.getMonth()+1)},MMM:function(Q,P){return P.monthNamesShort[Q.getMonth()]},MMMM:function(Q,P){return P.monthNames[Q.getMonth()]},yy:function(P){return(P.getFullYear()+"").substring(2)},yyyy:function(P){return P.getFullYear()},t:function(P){return P.getHours()<12?"a":"p"},tt:function(P){return P.getHours()<12?"am":"pm"},T:function(P){return P.getHours()<12?"A":"P"},TT:function(P){return P.getHours()<12?"AM":"PM"},u:function(P){return G(P,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(Q){var P=Q.getDate();if(P>10&&P<20){return"th"}return["st","nd","rd"][P%10-1]||"th"}};function M(Q,R,P){Q.each(function(){var T=w(this);var S=R-((parseInt(T.css("border-left-width"))||0)+(parseInt(T.css("padding-left"))||0)+(parseInt(T.css("padding-right"))||0)+(parseInt(T.css("border-right-width"))||0));if(P){S-=(parseInt(T.css("margin-left"))||0)+(parseInt(T.css("margin-right"))||0)}T.width(S)})}function e(R,P,Q){R.each(function(){var T=w(this);var S=P-((parseInt(T.css("border-top-width"))||0)+(parseInt(T.css("padding-top"))||0)+(parseInt(T.css("padding-bottom"))||0)+(parseInt(T.css("border-bottom-width"))||0));if(Q){S-=(parseInt(T.css("margin-top"))||0)+(parseInt(T.css("margin-bottom"))||0)}T.height(S)})}var u;function z(P){if(u==i){u=P.position().top!=P.find("tr").position().top}}function E(R,T,S,Q){var P=R.position();if(u){P.top+=Q.position().top+S.position().top-T.position().top}return P}function b(R){var W=[],P=[],V,U,S,T,X,Q;this.row=function(Z,Y){V=w(Z);W.push(V.offset().top+((u&&V.is("tr"))?V.parent().position().top:0))};this.col=function(Y){U=w(Y);P.push(U.offset().left)};this.mouse=function(Y,ab){if(S==i){W.push(W[W.length-1]+V.outerHeight());P.push(P[P.length-1]+U.outerWidth());X=Q=-1}var Z,aa;for(Z=0;Z<W.length&&ab>=W[Z];Z++){}for(aa=0;aa<P.length&&Y>=P[aa];aa++){}Z=Z>=W.length?-1:Z-1;aa=aa>=P.length?-1:aa-1;if(Z!=X||aa!=Q){X=Z;Q=aa;if(Z==-1||aa==-1){this.cell=null}else{if(S==i){S=Z;T=aa}this.cell={row:Z,col:aa,top:W[Z],left:P[aa],width:P[aa+1]-P[aa],height:W[Z+1]-W[Z],isOrig:Z==S&&aa==T,rowDelta:Z-S,colDelta:aa-T}}R(this.cell)}}}var i,L=["sun","mon","tue","wed","thu","fri","sat"];function J(P){return(P<10?"0":"")+P}function f(T,P){if(T[P]!=i){return T[P]}var S=P.split(/(?=[A-Z])/),R=S.length-1,Q;for(;R>=0;R--){Q=T[S[R].toLowerCase()];if(Q!=i){return Q}}return T[""]}})(jQuery);